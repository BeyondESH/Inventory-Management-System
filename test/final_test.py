#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
æœ€ç»ˆæµ‹è¯• - ä¼˜åŒ–åçš„ç™»å½•ç•Œé¢
"""

import sys
import os

# æ·»åŠ é¡¹ç›®è·¯å¾„
current_dir = os.path.dirname(os.path.abspath(__file__))
project_root = os.path.dirname(current_dir)  # ä¸Šä¸€çº§ç›®å½•
if project_root not in sys.path:
    sys.path.insert(0, project_root)

from src.login_module import LoginModule

def final_test():
    """æœ€ç»ˆæµ‹è¯•ä¼˜åŒ–åçš„ç™»å½•ç•Œé¢"""
    print("ğŸ‰ æœ€ç»ˆç‰ˆç™»å½•ç•Œé¢æµ‹è¯•")
    print("=" * 50)
    print("")
    print("âœ¨ æœ€æ–°ä¼˜åŒ–:")
    print("   ğŸ“ çª—å£å¤§å°: 420x550 (ç´§å‡‘)")
    print("   ğŸ–±ï¸ ç™»å½•æŒ‰é’®: 12å®½åº¦ (é€‚ä¸­)")
    print("   ğŸ¯ åŠŸèƒ½æŒ‰é’®: éƒ½åœ¨é»‘è‰²è¾¹æ¡†å†…ï¼Œæ°´å¹³æ’åˆ—")
    print("   ğŸ“± æŒ‰é’®å°ºå¯¸: 6å®½åº¦ (ç´§å‡‘)")
    print("   ğŸ¨ å¸ƒå±€: ç®€æ´ç¾è§‚")
    print("")
    print("ğŸ¯ é¢„æœŸç•Œé¢å¸ƒå±€:")
    print("   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("   â”‚      ğŸ½ï¸ ç³»ç»Ÿæ ‡é¢˜        â”‚")
    print("   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚")
    print("   â”‚  â”‚   [ç”¨æˆ·åè¾“å…¥æ¡†]    â”‚ â”‚")
    print("   â”‚  â”‚   [å¯†ç è¾“å…¥æ¡†]      â”‚ â”‚")
    print("   â”‚  â”‚   [ğŸ” ç«‹å³ç™»å½•]     â”‚ â”‚")
    print("   â”‚  â”‚ [ğŸ“][ğŸ‘¤][ğŸ§ª] æŒ‰é’®  â”‚ â”‚")
    print("   â”‚  â”‚    å¿˜è®°å¯†ç ï¼Ÿ       â”‚ â”‚")
    print("   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚")
    print("   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print("")
    print("ğŸ”¥ åŠŸèƒ½æµ‹è¯•:")
    print("   âœ… ç‚¹å‡» [ğŸ‘¤ æ¸¸å®¢] â†’ ç›´æ¥è¿›å…¥ä¸»ç•Œé¢")
    print("   âœ… ç‚¹å‡» [ğŸ“ æ³¨å†Œ] â†’ æ³¨å†Œé¡µé¢")
    print("   âœ… ç‚¹å‡» [ğŸ§ª æµ‹è¯•] â†’ æµ‹è¯•æ¨¡å¼")
    print("   âœ… ç‚¹å‡» [å¿˜è®°å¯†ç ï¼Ÿ] â†’ å¯†ç é‡ç½®")
    print("")
    print("ğŸš€ å¯åŠ¨ç•Œé¢...")
    
    def test_callback(user_manager):
        print("ğŸŠ ç™»å½•æˆåŠŸï¼ç”¨æˆ·ç®¡ç†å™¨å·²ä¼ é€’åˆ°ä¸»ç³»ç»Ÿ")
        if user_manager.current_user:
            print(f"   å½“å‰ç”¨æˆ·: {user_manager.current_user.username}")
    
    login = LoginModule(on_login_success=test_callback)
    login.run()

if __name__ == "__main__":
    final_test()
